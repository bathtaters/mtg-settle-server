extends components/container

include components/form.mixins.pug

block scripts
  script(src="/javascripts/profile.client.js")
  script(src="/javascripts/password.client.js")

block content
  table.horizontal
    //- caption User Profile
    thead
      tr
        each val in tableFields
          th= val
    tbody
      tr
        each val, key in tableFields
          -var rowCls = key !== 'cors' ? '' : userData.regExCors ? 'cors-regex' : userData.arrayCors ? 'cors-array' : ''
          td(data-label=val) #{key in userData ? userData[key] : ''}!{'&nbsp;'}

  hr

  form.plain#editForm(action=postURL method="POST")
    fieldset
      legend.row.baseline
        h2 Update Profile

      .row
        .col-sm
          each val, key in { username: 'text', password: 'password', confirm: 'password' }
            +formInput(key, val, limits[key], key === 'username' && userData[key], tableFields[key], '', tooltips[key])
            
          input(type="hidden" value=userData[idKey] id=idKey name=idKey)

      +buttonRow(buttons, { Update: 'tertiary', Remove: 'secondary' })
